<html>
  <head>
    <title>Horario de autobuses</title>
  </head>

  <body>
    <table id="jsoncontent"></table>

    <script>
      function validateJSON(str) {
        try {
          JSON.parse(str)
        } catch (e) {
          return false
        }
        return true
      }

      function createHeader(text) {
        const header = document.createElement('th')
        header.textContent = text
        return header
      }

      function createCell(text) {
        const cell = document.createElement('td')
        cell.textContent = text
        return cell
      }

      window.onload = function () {
        //rutas3.geojson
        fetch('rutas.geojson')
          .then((res) => res.json())
          .then((golfdata) => {
            const table = document.getElementById('jsoncontent')
            const header = table.appendChild(document.createElement('tr'))

            header.append(createHeader('Ciudad'))
            header.append(createHeader('Tipo'))
            header.append(createHeader('Hora 1'))
            header.append(createHeader('Hora 2'))
            header.append(createHeader('Hora 3'))
            header.append(createHeader('Hora 4'))

            for (const entry of golfdata.features) {
              console.log(entry.properties.Folder)
              // Append a row.
              const row = document.createElement('tr')
              row.append(createCell(entry.properties.Ruta))
              row.append(createCell(entry.properties.Parada))
              row.append(createCell(entry.properties.Manana))
              row.append(createCell(entry.properties.Tarde))
              row.append(createCell(entry.properties.Noche))
              row.append(createCell(entry.properties.Central))

              table.append(row)
            }
          })
      }
    </script>
  </body>
</html>